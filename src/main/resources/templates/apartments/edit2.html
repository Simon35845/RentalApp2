<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Изменение квартиры - Шаг 2</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
</head>
<body>
<h1>Изменение квартиры - Шаг 2</h1>
<form method="post" th:action="@{/logout}">
  <button class="main-link-button" type="submit">LOGOUT</button>
</form>

<div class="filter-container">
  <form th:action="@{/apartments/edit2}" method="get">
    <label for="city">Город</label>
    <input type="text" id="city" name="city" th:value="${addressFilter.city}" placeholder="Введите город">
    <label for="street">Улица</label>
    <input type="text" id="street" name="street" th:value="${addressFilter.street}" placeholder="Введите улицу">
    <button class="pagination-button" type="submit">Фильтрация</button>
  </form>
</div>

<table border="1">
  <thead>
  <tr>
    <th>ID</th>
    <th>Город</th>
    <th>Улица</th>
    <th>Номер дома</th>
    <th>Действия</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="address : ${addresses.content}">
    <td th:text="${address.id}"></td>
    <td th:text="${address.city}"></td>
    <td th:text="${address.street}"></td>
    <td th:text="${address.houseNumber}"></td>
    <td>
      <form th:action="@{/apartments/edit2.html}" method="post">
        <input type="hidden" name="addressId" th:value="${address.id}">
        <button class="select-button" type="submit">Выбрать</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>

<div class="pagination-container">
  <form th:action="@{/apartments/edit2}" method="get" th:if="${addresses.hasPrevious()}">
    <input type="hidden" th:name="city" th:value="${addressFilter.city}">
    <input type="hidden" th:name="street" th:value="${addressFilter.street}">
    <input type="hidden" th:name="pageNumber" th:value="${addresses.number}">
    <button type="submit" class="pagination-button">Предыдущая страница</button>
  </form>
  <form th:action="@{/apartments/edit2}" method="get" th:if="${addresses.hasNext()}">
    <input type="hidden" th:name="city" th:value="${addressFilter.city}">
    <input type="hidden" th:name="street" th:value="${addressFilter.street}">
    <input type="hidden" th:name="pageNumber" th:value="${addresses.number + 2}">
    <button type="submit" class="pagination-button">Следующая страница</button>
  </form>
</div>

<div class="button-container-1">
  <a class="list-link-button" th:href="@{/apartments}">Вернуться к списку квартир</a>
  <a class="main-link-button" th:href="@{/main}">Перейти на главную страницу</a>
</div>
</body>
</html>